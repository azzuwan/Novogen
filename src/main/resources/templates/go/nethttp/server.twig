
package main

import (
	"fmt"
	"log"
	"net/http"

	"github.com/julienschmidt/httprouter"
)

func main() {
	router := httprouter.New()        
	
        router.GET("/", Index)
        
        {% for table in tables %}
        //{{table.name|singular|camel_case|capitalize}}
        
	router.GET("/{{table.name|plural|camel_case|capitalize}}", Get{{table.name|plural|camel_case|capitalize}})
        
        router.GET("/{{table.name|singular|camel_case|capitalize}}/:id", Get{{table.name|singular|camel_case|capitalize}})
        
        router.POST("/{{table.name|plural|camel_case|capitalize}}", Post{{table.name|plural|camel_case|capitalize}})
        
        router.POST("/{{table.name|singular|camel_case|capitalize}}", Post{{table.name|singular|camel_case|capitalize}})
        
        router.PUT("/{{table.name|singular|camel_case|capitalize}}/:id", Put{{table.name|singular|camel_case|capitalize}})
        
        router.DEL("/{{table.name|singular|camel_case|capitalize}}/:id", Del{{table.name|singular|camel_case|capitalize}})
        
        
        {% endfor %}

	log.Fatal(http.ListenAndServe(":7788", router))
}

// Index main route
func Index(w http.ResponseWriter, r *http.Request, _ httprouter.Params) {
	fmt.Fprintf(w, "Index")
}

//Hello hello world route
func Hello(w http.ResponseWriter, r *http.Request, ps httprouter.Params) {
	fmt.Fprintf(w, "Hello, %s !\n", ps.ByName("name"))
}
